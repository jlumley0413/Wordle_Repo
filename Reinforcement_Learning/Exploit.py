import numpy as np
from GYB_checker import GYB_checker
from Read_Q_table import Read_Q_table

 

def Exploit(correct_word,Q_table):
    num_tries = 0
    remaining_Q_words = Q_table.copy()
    original_length = len(remaining_Q_words)
    guess = []
    print("Made it to exploit")
    while guess != correct_word:
        num_tries += 1
        current_length = len(remaining_Q_words)
        percent_remaining = current_length / original_length
        guess = Read_Q_table(percent_remaining, remaining_Q_words)
        print(guess)

        remaining_words = list(remaining_Q_words.index.values)
        remaining_words, ignore_letters, colors = GYB_checker(guess, correct_word, remaining_words)
        print(remaining_words)
        remaining_Q_words=remaining_Q_words[remaining_Q_words.index.isin([remaining_words])]
        print(len(remaining_Q_words))
        print(remaining_Q_words)
    return num_tries